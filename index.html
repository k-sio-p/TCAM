<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul de Rentabilité d'un Barrage Hydraulique</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
        }
        h1 {
            text-align: center;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calcul de Rentabilité d'un Barrage Hydraulique</h1>
        <label for="debit">Débit d'eau (en m³/s)</label>
        <input type="number" id="debit" placeholder="Entrez le débit d'eau">

        <label for="hauteur">Hauteur de chute (en mètres)</label>
        <input type="number" id="hauteur" placeholder="Entrez la hauteur de chute">

        <label for="efficacite">Efficacité du système (%)</label>
        <input type="number" id="efficacite" step="0.1" placeholder="Entrez l'efficacité du système">

        <label for="prix_vente">Prix de vente de l'électricité (€/kWh)</label>
        <input type="number" id="prix_vente" step="0.01" placeholder="Entrez le prix de vente de l'électricité">

        <label for="cout_construction">Coût de construction (en millions d'euros)</label>
        <input type="number" id="cout_construction" step="0.01" placeholder="Entrez le coût de construction">

        <label for="cout_maintenance">Coût de maintenance annuel (en millions d'euros)</label>
        <input type="number" id="cout_maintenance" step="0.01" placeholder="Entrez le coût de maintenance annuel">

        <label for="duree_amortissement">Durée d'amortissement (en années)</label>
        <input type="number" id="duree_amortissement" placeholder="Entrez la durée d'amortissement">

        <button onclick="calculerRentabilite()">Calculer</button>

        <div class="result" id="result">
            <!-- Les résultats seront affichés ici -->
        </div>
    </div>

    <script>
        function calculerRentabilite() {
            const debit = document.getElementById('debit').value;
            const hauteur = document.getElementById('hauteur').value;
            const efficacite = document.getElementById('efficacite').value;
            const prix_vente = document.getElementById('prix_vente').value;
            const cout_construction = document.getElementById('cout_construction').value;
            const cout_maintenance = document.getElementById('cout_maintenance').value;
            const duree_amortissement = document.getElementById('duree_amortissement').value;

            // Calcul de la puissance (en kW) : P = ρ * g * Q * H * η
            const densite_eau = 1000; // en kg/m³
            const gravite = 9.81; // en m/s²
            const efficacite_decimale = efficacite / 100; // Convertir en décimal
            const puissance = densite_eau * gravite * debit * hauteur * efficacite_decimale / 1000; // en kW

            // Calcul de l'énergie produite annuellement (en kWh)
            const energieProduiteAnnuelle = puissance * 24 * 365; // en kWh

            // Calcul des revenus annuels
            const revenusAnnuels = energieProduiteAnnuelle * prix_vente;

            // Calcul des coûts annuels
            const coutsAnnuels = cout_maintenance * 1000000;

            // Calcul de la rentabilité financière annuelle
            const rentabiliteAnnuelle = revenusAnnuels - coutsAnnuels;

            // Calcul du retour sur investissement (ROI) sur la durée d'amortissement
            const totalRevenus = revenusAnnuels * duree_amortissement;
            const totalCouts = (cout_construction * 1000000) + (coutsAnnuels * duree_amortissement);
            const roi = totalRevenus - totalCouts;

            document.getElementById('result').innerHTML = `
                <p><strong>Puissance :</strong> ${puissance.toFixed(2)} kW</p>
                <p><strong>Énergie produite annuellement :</strong> ${energieProduiteAnnuelle.toFixed(2)} kWh</p>
                <p><strong>Revenus annuels :</strong> ${revenusAnnuels.toFixed(2)} €</p>
                <p><strong>Coûts annuels :</strong> ${coutsAnnuels.toFixed(2)} €</p>
                <p><strong>Rentabilité annuelle :</strong> ${rentabiliteAnnuelle.toFixed(2)} €</p>
                <p><strong>ROI sur ${duree_amortissement} ans :</strong> ${roi.toFixed(2)} €</p>
            `;
        }
    </script>
</body>
</html>
