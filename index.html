<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcul de Rentabilité d'un Barrage Hydraulique</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 600px;
            width: 100%;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        h1, h2 {
            text-align: center;
        }
        label {
            display: block;
            margin-top: 10px;
        }
        input[type="number"] {
            width: calc(50% - 10px);
            padding: 10px;
            margin-top: 5px;
            display: inline-block;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 20px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .explanation {
            max-width: 600px;
            padding: 20px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calcul de Rentabilité d'un Barrage Hydraulique</h1>
        <label for="debit">Débit d'eau (en m³/s)</label>
        <input type="number" id="debit" placeholder="Entrez le débit d'eau">

        <label for="hauteur">Hauteur de chute (en mètres)</label>
        <input type="number" id="hauteur" placeholder="Entrez la hauteur de chute">

        <label for="efficacite">Efficacité du système (%)</label>
        <input type="number" id="efficacite" step="0.1" placeholder="Entrez l'efficacité du système">

        <label for="prix_vente">Prix de vente de l'électricité (€/kWh)</label>
        <input type="number" id="prix_vente" step="0.01" placeholder="Entrez le prix de vente de l'électricité">

        <label for="cout_construction">Coût de construction (en millions d'euros)</label>
        <input type="number" id="cout_construction" step="0.01" placeholder="Entrez le coût de construction">

        <label for="cout_maintenance">Coût de maintenance annuel (en millions d'euros)</label>
        <input type="number" id="cout_maintenance" step="0.01" placeholder="Entrez le coût de maintenance annuel">

        <label for="duree_amortissement">Durée d'amortissement (en années)</label>
        <input type="number" id="duree_amortissement" placeholder="Entrez la durée d'amortissement">

        <button onclick="calculerRentabilite()">Calculer</button>

        <div class="result" id="result">
            <!-- Les résultats seront affichés ici -->
        </div>
    </div>

    <div class="explanation">
        <h2>Explication des Calculs</h2>
        <p><strong>1. Calcul de la Puissance (en kW)</strong></p>
        <p>
            La puissance générée par l'eau qui tombe dans un barrage hydraulique est calculée à l'aide de la formule suivante :
            <br>
            <code>P = ρ × g × Q × H × η</code>
            <br>
            Où :
            <ul>
                <li>ρ : Densité de l'eau (1000 kg/m³)</li>
                <li>g : Accélération due à la gravité (9.81 m/s²)</li>
                <li>Q : Débit d'eau (en m³/s)</li>
                <li>H : Hauteur de chute (en mètres)</li>
                <li>η : Efficacité du système (en décimal, par exemple 90% devient 0.90)</li>
            </ul>
            Pour convertir la puissance en kilowatts (kW), on divise par 1000 :
            <br>
            <code>Puissance = (ρ × g × Q × H × η) / 1000</code>
        </p>
        <p><strong>2. Calcul de l'Énergie Produite Annuelle (en kWh)</strong></p>
        <p>
            L'énergie produite annuellement est calculée en multipliant la puissance par le nombre total d'heures dans une année :
            <br>
            <code>Énergie Produite Annuelle = Puissance × 24 × 365</code>
        </p>
        <p><strong>3. Calcul des Revenus Annuels</strong></p>
        <p>
            Les revenus annuels sont calculés en multipliant l'énergie produite annuellement par le prix de vente de l'électricité (en €/kWh) :
            <br>
            <code>Revenus Annuels = Énergie Produite Annuelle × Prix de Vente</code>
        </p>
        <p><strong>4. Calcul des Coûts Annuels</strong></p>
        <p>
            Les coûts annuels incluent principalement les coûts de maintenance :
            <br>
            <code>Coûts Annuels = Coût de Maintenance Annuel × 1,000,000</code>
        </p>
        <p><strong>5. Calcul de la Rentabilité Financière Annuelle</strong></p>
        <p>
            La rentabilité financière annuelle est calculée en soustrayant les coûts annuels des revenus annuels :
            <br>
            <code>Rentabilité Annuelle = Revenus Annuels - Coûts Annuels</code>
        </p>
        <p><strong>6. Calcul du Retour sur Investissement (ROI)</strong></p>
        <p>
            Le retour sur investissement (ROI) sur la durée d'amortissement est calculé en soustrayant les coûts totaux des revenus totaux sur la période d'amortissement :
            <br>
            <code>Total Revenus = Revenus Annuels × Durée d'Amortissement</code>
            <br>
            <code>Total Coûts = (Coût de Construction × 1,000,000) + (Coûts Annuels × Durée d'Amortissement)</code>
            <br>
            <code>ROI = Total Revenus - Total Coûts</code>
        </p>
    </div>

    <script>
        function calculerRentabilite() {
            const debit = document.getElementById('debit').value;
            const hauteur = document.getElementById('hauteur').value;
            const efficacite = document.getElementById('efficacite').value;
            const prix_vente = document.getElementById('prix_vente').value;
            const cout_construction = document.getElementById('cout_construction').value;
            const cout_maintenance = document.getElementById('cout_maintenance').value;
            const duree_amortissement = document.getElementById('duree_amortissement').value;

            // Calcul de la puissance (en kW) : P = ρ * g * Q * H * η
            const densite_eau = 1000; // en kg/m³
            const gravite = 9.81; // en m/s²
            const efficacite_decimale = efficacite / 100; // Convertir en décimal
            const puissance = densite_eau * gravite * debit * hauteur * efficacite_decimale / 1000; // en kW

            // Calcul de l'énergie produite annuellement (en kWh)
            const energieProduiteAnnuelle = puissance * 24 * 365; // en kWh

            // Calcul des revenus annuels
            const revenusAnnuels = energieProduiteAnnuelle * prix_vente;

            // Calcul des coûts annuels
            const coutsAnnuels = cout_maintenance * 1000000;

            // Calcul de la rentabilité financière annuelle
            const rentabiliteAnnuelle = revenusAnnuels - coutsAnnuels;

            // Calcul du retour sur investissement (ROI) sur la durée d'amortissement
            const totalRevenus = revenusAnnuels * duree_amortissement;
            const totalCouts = (cout_construction * 1000000) + (coutsAnnuels * duree_amortissement);
            const roi = totalRevenus - totalCouts;

            document.getElementById('result').innerHTML = `
                <p><strong>Puissance :</strong> ${puissance.toFixed(2)} kW</p>
                <p><strong>Énergie produite annuellement :</strong> ${energieProduiteAnnuelle.toFixed(2)} kWh</p>
                <p><strong>Revenus annuels :</strong> ${revenusAnnuels.toFixed(2)} €</p>
                <p><strong>Coûts annuels :</strong> ${coutsAnnuels.toFixed(2)} €</p>
                <p><strong>Rentabilité annuelle :</strong> ${rentabiliteAnnuelle.toFixed(2)} €</p>
                <p><strong>ROI sur ${duree_amortissement} ans :</strong> ${roi.toFixed(2)} €</p>
            `;
        }
    </script>
</body>
</html>
