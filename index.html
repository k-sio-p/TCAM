<!DOCTYPE html>
<html>
<head>
    <title>Tableau de Bord en Temps Réel</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.min.js"></script>
</head>
<body>
    <h1>Tableau de Bord en Temps Réel</h1>
    <div id="weather">
        <h2>Météo Actuelle</h2>
        <p id="temperature"></p>
        <p id="conditions"></p>
    </div>
    <div id="water-level">
        <h2>Niveau de l'Eau Actuel</h2>
        <p id="water-level-value"></p>
    </div>
    <script>
        var socket = io();
        socket.on('update_data', function(data) {
            var weather = data.weather;
            var water_level = data.water_level;

            document.getElementById('temperature').innerText = 'Température : ' + (weather.main.temp - 273.15).toFixed(2) + '°C';
            document.getElementById('conditions').innerText = 'Conditions : ' + weather.weather[0].description;

            var water_level_value = water_level.value.timeSeries[0].values[0].value[0].value;
            document.getElementById('water-level-value').innerText = 'Niveau de l\'eau : ' + water_level_value + ' pieds';
        });
    </script>
</body>
</html>
